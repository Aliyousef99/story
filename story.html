<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Story</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>The Whispering Path</header>
    <div id="story-container">
        <!-- Story content -->
        <div class="story-page">
            <p class="story-section">
                It was said that no one ever walked the Whispering Path without returning changed. The narrow trail wound through an ancient forest, 
                its entrance marked by a crumbling stone archway inscribed with symbols no one could decipher. The villagers, wary of the path’s mysteries, 
                rarely spoke of it, except in hushed tones. But for Alina, the path was a challenge, a call she could no longer ignore. On a brisk autumn morning, 
                she stood at its entrance, her breath misting in the crisp air, and stepped into the shadows of the towering oaks.
            </p>
            <p class="story-section">
                The air grows colder as you walk deeper. Shadows stretch and twist among the gnarled trees, 
                and the faint sound of footsteps echoes behind you, though you see no one when you turn around.
            </p>
        </div>
        <div class="story-page" style="display: none;">
            <p class="story-section">
                A faint glow emerges ahead—a lantern hanging from a crooked tree branch. Beneath it, a parchment pinned to the bark reads: 
                “Seek the lantern’s light, and the truth shall follow.” The ink is fresh, the handwriting eerily familiar.
            </p>
            <p class="story-section">
                The path splits. To the left, a narrow trail leads into darkness. To the right, 
                faint moonlight glimmers on a shallow stream. A sense of dread and urgency fills your chest as you choose your path, but the lantern flickers,
                and the choice is yours alone.
            </p>
        </div>
        <div class="story-page" style="display: none;">
            <p class="story-section">
                Click close after watching the video to continue your journey.
            </p>
        </div>
    </div>

    <!-- Navigation Buttons -->
    <button id="previous-button" class="big-button" onclick="showPreviousPage()" style="display: none;">← Previous</button>
    <button id="next-button" class="big-button" onclick="showNextPage()">Next →</button>
    <button id="find-truth-button" class="big-button" onclick="findTruth()" style="display: none;">Find The Truth</button>

    <script>
        const pages = document.querySelectorAll('.story-page');
        const findTruthButton = document.getElementById('find-truth-button');
        const nextButton = document.getElementById('next-button');
        const previousButton = document.getElementById('previous-button');
        let currentPage = 0;

        // Initialize the story based on the URL fragment
        if (window.location.hash === "#find-truth") {
            // Jump to the "Find The Truth" section
            currentPage = pages.length - 1;
            pages.forEach((page, index) => {
                page.style.display = index === currentPage ? "block" : "none";
            });
            nextButton.style.display = 'none';
            previousButton.style.display = 'block';
            findTruthButton.style.display = 'block';
        } else {
            // Start at the beginning of the story
            pages.forEach((page, index) => {
                page.style.display = index === 0 ? 'block' : 'none';
            });
        }

        function showNextPage() {
            if (currentPage < pages.length - 1) {
                pages[currentPage].style.display = 'none';
                currentPage++;
                pages[currentPage].style.display = 'block';
            }

            // Adjust button visibility
            previousButton.style.display = currentPage > 0 ? 'block' : 'none';
            if (currentPage === pages.length - 1) {
                nextButton.style.display = 'none';
                findTruthButton.style.display = 'block';
            }
        }

        function showPreviousPage() {
            if (currentPage > 0) {
                pages[currentPage].style.display = 'none';
                currentPage--;
                pages[currentPage].style.display = 'block';
            }

            // Adjust button visibility
            nextButton.style.display = currentPage < pages.length - 1 ? 'block' : 'none';
            findTruthButton.style.display = 'none';
            previousButton.style.display = currentPage > 0 ? 'block' : 'none';
        }

        function findTruth() {
            window.location.href = "truth.html";
        }
    </script>
</body>
</html>
